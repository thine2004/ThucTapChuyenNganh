<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="EnglishMaster Admin Panel">
    <meta name="author" content="EnglishMaster">
    <title>EnglishMaster Admin</title>

    <!-- Bootstrap core CSS-->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom fonts-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <!-- DataTables CSS-->
    <link href="/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">
    <!-- SB Admin CSS-->
    <link href="/css/sb-admin.css" rel="stylesheet">

    <!-- Custom Admin Style for EnglishMaster -->
    <style>
        /* TÙY CHỈNH GIAO DIỆN */
        :root {
            --admin-primary: #007bff; /* Xanh thương hiệu */
            --admin-sidebar: #2c3e50; /* Xanh đen sang trọng */
            --admin-hover: #34495e;
        }

        /* Sidebar Styling */
        #mainNav.navbar-dark .navbar-collapse .navbar-sidenav {
            background-color: var(--admin-sidebar);
        }

        #mainNav.navbar-dark .navbar-collapse .navbar-sidenav > .nav-item > .nav-link {
            color: #ecf0f1; /* Màu chữ trắng sáng */
            padding: 1rem;
        }

        #mainNav.navbar-dark .navbar-collapse .navbar-sidenav > .nav-item > .nav-link:hover {
            color: #fff;
            background-color: var(--admin-hover);
        }

        /* Logo Brand */
        .navbar-brand {
            font-weight: 700;
            letter-spacing: 1px;
            color: #fff !important;
            text-transform: uppercase;
        }

        /* Top Navbar */
        #mainNav {
            background-color: var(--admin-primary) !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Footer */
        footer.sticky-footer {
            background-color: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        /* Màu icon trong sidebar */
        .navbar-sidenav .nav-link .fa {
            color: #bdc3c7;
        }
        .navbar-sidenav .nav-link:hover .fa {
            color: #fff;
        }
    </style>
</head>

<body class="{{#unless hideAdminNav}}fixed-nav{{/unless}} sticky-footer bg-light" id="page-top">
{{#unless hideAdminNav}}
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <a class="navbar-brand" href="/admin{{loginParams}}">
        <i class="fa fa-graduation-cap mr-2"></i> EnglishMaster
    </a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">

            <!-- Dashboard -->
            <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Tổng quan">
                <a class="nav-link" href="/admin{{loginParams}}">
                    <i class="fa fa-fw fa-dashboard"></i>
                    <span class="nav-link-text">Tổng quan</span>
                </a>
            </li>

            <!-- Nhóm Quản lý Đào tạo -->
            <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Quản lý đào tạo">
                <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseCourses" data-parent="#exampleAccordion">
                    <i class="fa fa-fw fa-book"></i>
                    <span class="nav-link-text">Quản lý Đào tạo</span>
                </a>
                <ul class="sidenav-second-level collapse" id="collapseCourses">
                    <li>
                        <a href="/admin/category{{loginParams}}">Danh mục khóa học</a>
                    </li>
                    <li>
                        <a href="/admin/product{{loginParams}}">Danh sách khóa học</a>
                    </li>
                </ul>
            </li>


            <!-- Nhóm Quản lý Khác -->
            <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Quản lý khác">
                <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseOther" data-parent="#exampleAccordion">
                    <i class="fa fa-fw fa-cogs"></i>
                    <span class="nav-link-text">Quản lý Khác</span>
                </a>
                <ul class="sidenav-second-level collapse" id="collapseOther">
                    <li>
                        <a href="/admin/contacts">Liên hệ</a>
                    </li>
                    <li>
                         <a href="/admin/posts">Quản lý Bài viết</a>
                    </li>
                    <li>
                         <a href="/admin/reviews">Đánh giá & Bình luận</a>
                    </li>
                    <li>
                         <a href="/admin/settings">Quản lý Website</a>
                    </li>
                </ul>
            </li>

            <!-- Nhóm Quản lý Người dùng -->
            <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Quản lý người dùng">
                <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseUsers" data-parent="#exampleAccordion">
                    <i class="fa fa-fw fa-users"></i>
                    <span class="nav-link-text">Quản lý Người dùng</span>
                </a>
                <ul class="sidenav-second-level collapse" id="collapseUsers">
                    <li>
                        <a href="/admin/users?role=user">
                            <i class="fa fa-fw fa-user mr-1"></i> Danh sách Người dùng
                        </a>
                    </li>
                    <li>
                        <a href="/admin/users?role=admin">
                            <i class="fa fa-fw fa-user-shield mr-1"></i> Danh sách Quản trị
                        </a>
                    </li>
                </ul>
            </li>




        </ul>

        <!-- Nút thu gọn Sidebar -->
        <ul class="navbar-nav sidenav-toggler">
            <li class="nav-item">
                <a class="nav-link text-center" id="sidenavToggler">
                    <i class="fa fa-fw fa-angle-left"></i>
                </a>
            </li>
        </ul>

        <!-- Topbar Links -->
        <ul class="navbar-nav ml-auto">
            <!-- Thông báo -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle mr-lg-2" id="alertsDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-fw fa-bell"></i>
                    <span class="d-lg-none">Thông báo
                        <span class="badge badge-pill badge-warning">6 New</span>
                    </span>
                    <span class="indicator text-warning d-none d-lg-block">
                        <i class="fa fa-fw fa-circle"></i>
                    </span>
                </a>
                <div class="dropdown-menu" aria-labelledby="alertsDropdown">
                    <h6 class="dropdown-header">Thông báo mới:</h6>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">
                        <span class="text-success">
                            <strong><i class="fa fa-check-circle fa-fw"></i> Hệ thống ổn định</strong>
                        </span>
                        <div class="dropdown-message small">Không có lỗi mới được ghi nhận.</div>
                    </a>
                </div>
            </li>

            <!-- View Site Link -->
            <li class="nav-item">
                <a class="nav-link text-white" href="/">
                    <i class="fa fa-fw fa-globe"></i> Xem Trang chủ
                </a>
            </li>

            <!-- Profile Admin -->
            <li class="nav-item">
                <span class="nav-link text-white" style="cursor: default;">
                    <i class="fa fa-fw fa-user-circle"></i> Xin chào, {{currentUserName}}
                </span>
            </li>

            <!-- Logout -->
            <li class="nav-item">
                <a class="nav-link" data-toggle="modal" data-target="#exampleModal">
                    <i class="fa fa-fw fa-sign-out"></i> Đăng xuất
                </a>
            </li>
        </ul>
    </div>
</nav>
{{/unless}}

<div class="content-wrapper" {{#if hideAdminNav}}style="margin-left: 0;"{{/if}}>
    <div class="container-fluid">
        {{#unless hideAdminNav}}
        <!-- Breadcrumbs tự động -->
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/admin{{loginParams}}">Tổng quan</a>
            </li>
            {{#if title}}
                <li class="breadcrumb-item active">{{title}}</li>
            {{/if}}
        </ol>
        {{/unless}}

        {{#unless hideAdminNav}}
        <!-- Flash Messages -->
        {{#if success_message}}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <i class="fa fa-check-circle mr-1"></i> {{success_message}}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {{/if}}

        {{#if error_message}}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <i class="fa fa-exclamation-circle mr-1"></i> {{error_message}}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {{/if}}
        {{/unless}}

        <!-- Main Content -->
        {{{body}}}
    </div>

    <footer class="sticky-footer">
        <div class="container">
            <div class="text-center">
                <small>Copyright © EnglishMaster 2024 - Hệ thống quản lý đào tạo</small>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fa fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Xác nhận đăng xuất?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Chọn "Đăng xuất" bên dưới nếu bạn muốn kết thúc phiên làm việc hiện tại.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Hủy</button>
                    <!-- Link logout chuẩn -->
                    <a class="btn btn-primary" href="/admin/logout">Đăng xuất</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Core plugin JavaScript-->
    <script src="/vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Page level plugin JavaScript-->
    <script src="/vendor/chart.js/Chart.min.js"></script>
    <script src="/vendor/datatables/jquery.dataTables.js"></script>
    <script src="/vendor/datatables/dataTables.bootstrap4.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="/js/sb-admin.min.js"></script>
    <!-- Custom scripts for this page-->
    <script src="/js/sb-admin-datatables.min.js"></script>
    <script src="/js/sb-admin-charts.min.js"></script>
</div>
</body>

</html>